<!DOCTYPE html>
<html>
<head>
    <title>Multiplayer Blackjack</title>
    <style>
        body {
            text-align: center;
            margin-top: 100px;
            font-family: Arial, sans-serif;
        }

        h1 {
            font-size: 24px;
        }

        .button {
            display: inline-block;
            padding: 10px 20px;
            font-size: 18px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 10px;
            text-decoration: none;
        }

        .button:hover {
            background-color: #45a049;
        }

        #result {
            font-size: 20px;
            font-weight: bold;
            margin-top: 30px;
        }
        .card {
            width: 100px;
            height: 150px;
            background-image: url('/static/cards/back.png'); /* Default card back image */
            background-size: contain;
            background-repeat: no-repeat;
        }
    </style>
</head>
<body>
    <h1>Multiplayer Blackjack</h1>
    <button class="button" id="deal-btn" onclick="dealCard()">Deal</button>
    <button class="button" id="hit-btn1">Player 1 Hit</button>
    <button class="button" id="hit-btn2">Player 2 Hit</button>
    <button class="button" id="end-btn">End Game</button>
    <div id="result"></div>

    <div id="cardContainer"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.1/socket.io.js"></script>
    <script>
        var socket = io();

        socket.on('card_dealt', function(data) {
            var cardName = data.card;
            var cardElement = document.createElement('div');
            cardElement.className = 'card';
            cardElement.style.backgroundImage = "url('/static/cards/" + cardName + ".png')";
            document.getElementById('cardContainer').appendChild(cardElement);
        });

        function dealCard() {
            socket.emit('deal_card');
        }
    </script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            $("#deal-btn").click(function() {
                $.ajax({
                    url: "/deal",
                    success: function(result) {
                        alert(result);
                    }
                });
            });

            $("#hit-btn1").click(function() {
                $.ajax({
                    url: "/hit?player=1",
                    success: function(result) {
                        alert(result);
                    }
                });
            });

            $("#hit-btn2").click(function() {
                $.ajax({
                    url: "/hit?player=2",
                    success: function(result) {
                        alert(result);
                    }
                });
            });

            $("#end-btn").click(function() {
                $.ajax({
                    url: "/end",
                    success: function(result) {
                        $("#result").text(result);
                    }
                });
            });
        });
    </script>
    <script>
      var socket = io();

      // Handle the 'card_dealt' event
      socket.on('card_dealt', function(data) {
        // Trigger card animation based on the received card data
        console.log('Card dealt:', data.card);
        // Implement your card animation logic here
      });
    </script>
</body>
</html>

